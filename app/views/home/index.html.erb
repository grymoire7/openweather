<h2 class="text-xl font-semibold">Weather Forecast</h2>

<div class="flex items-center justify-center">
  <div class="max-w-sm text-center bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
    <%= form_with url: root_path, method: :get, local: true do |form| %>
      <div class="mb-4">
        <%= form.label :address, "What is your address?", class: "form-label" %>
        <%= text_field_tag(:address, @address, size: 30, class: "form-input") %>
      </div>
      <div class="mb-6">
        <%= submit_tag "Submit", class: "btn-primary" %>
      </div>
    <% end %>
  </div>
</div>

<% if defined?(@weather) %>
  <div class="w-full text-center">
    <%= Date.today.strftime('%A, %B %d, %Y') %>
    <p><%= @weather.name %></p>
    <img class="mx-auto" src="<%= @weather.icon_url %>"/>
    <p><%= @weather.status %></p>
    <p class="text-xs"><%= @weather.description %></p>
    <p>Current temperature: <%= @weather.temperature %> F</p>
    <p>Low: <%= @weather.low %> F, High: <%= @weather.high %> F</p>
    <p>Cached: <%= @weather.cached? %></p>
  </div>
<% end %>
